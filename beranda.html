<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LabBMCI - Pemeriksaan Laboratorium Online</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            color: #333;
        }

        header {
            background-color: #EAB44C;
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }

        .logo-container {
            display: flex;
            align-items: center;
        }

        .logo-img {
            height: 40px;
            margin-right: 10px;
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: bold;
        }

        nav ul {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        nav ul li {
            margin-left: 1rem;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s;
            font-size: 0.9rem;
        }

        nav ul li a:hover {
            background-color: rgba(255,255,255,0.2);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: #EAB44C;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .mobile-menu.active {
            display: block;
        }

        .mobile-menu ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-menu ul li {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .mobile-menu ul li a {
            color: white;
            text-decoration: none;
            display: block;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .hero {
            background-color: #e34829;
            color: white;
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            color: #f0f0f0;
        }

        .btn {
            display: inline-block;
            background-color: #79BC43;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            width: auto;
        }

        .btn:hover {
            background-color: #6aa53a;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #79BC43;
            color: #79BC43;
        }

        .btn-outline:hover {
            background-color: #79BC43;
            color: white;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .feature-card {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            border: 1px solid #eee;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: #EAB44C;
            margin-top: 0;
            font-size: 1.2rem;
        }

        .feature-icon {
            font-size: 2rem;
            color: #EAB44C;
            margin-bottom: 1rem;
        }

        footer {
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        /* Profile Section */
        .profile-section {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #EAB44C;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            margin-right: 1.5rem;
        }

        .profile-info h2 {
            margin: 0;
            color: #EAB44C;
        }

        .profile-info p {
            margin: 0.2rem 0 0;
            color: #666;
        }

        .profile-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .detail-card {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.2rem;
        }

        .detail-card h3 {
            margin-top: 0;
            color: #EAB44C;
            font-size: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .detail-item {
            margin-bottom: 0.8rem;
        }

        .detail-label {
            font-weight: 500;
            color: #555;
            display: block;
            margin-bottom: 0.2rem;
        }

        .detail-value {
            color: #333;
        }

        /* Queue Section */
        .queue-section {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .queue-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .queue-header h2 {
            margin: 0;
            color: #EAB44C;
        }

        .refresh-btn {
            background-color: #79BC43;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .refresh-btn:hover {
            background-color: #6aa53a;
        }

        .refresh-icon {
            margin-right: 0.5rem;
        }

        .queue-status {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .queue-item {
            flex: 1;
            padding: 1rem;
        }

        .queue-number {
            font-size: 2rem;
            font-weight: bold;
            color: #EAB44C;
            margin: 0.5rem 0;
        }

        .queue-label {
            color: #666;
            font-size: 0.9rem;
        }

        .queue-list {
            border-top: 1px solid #eee;
            padding-top: 1.5rem;
        }

        .queue-list h3 {
            color: #EAB44C;
            margin-top: 0;
        }

        .queue-table {
            width: 100%;
            border-collapse: collapse;
        }

        .queue-table th, .queue-table td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .queue-table th {
            background-color: #f5f5f5;
            color: #EAB44C;
        }

        .current-queue {
            background-color: #e6f7ee;
            font-weight: bold;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            width: 90%;
            max-width: 600px;
            position: relative;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* Chat interface */
        .doctor-list {
            margin-bottom: 1rem;
        }

        .doctor-card {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .doctor-card:hover {
            background-color: #f9f9f9;
        }

        .doctor-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #EAB44C;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
        }

        .doctor-info {
            flex-grow: 1;
        }

        .doctor-name {
            font-weight: bold;
            margin-bottom: 0.2rem;
        }

        .doctor-specialty {
            color: #666;
            font-size: 0.9rem;
        }

        .doctor-status {
            font-size: 0.8rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .status-online {
            background-color: #e6f7ee;
            color: #EAB44C;
        }

        .status-offline {
            background-color: #f0f0f0;
            color: #666;
        }

        .chat-container {
            height: 400px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 1rem;
            background-color: #EAB44C;
            color: white;
            display: flex;
            align-items: center;
        }

        .chat-header-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: #EAB44C;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
        }

        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.8rem;
            border-radius: 8px;
            max-width: 80%;
            font-size: 0.9rem;
        }

        .user-message {
            background-color: #EAB44C;
            color: white;
            margin-left: auto;
        }

        .doctor-message {
            background-color: #f0f0f0;
            margin-right: auto;
        }

        .chat-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #ddd;
        }

        .chat-input input {
            flex-grow: 1;
            padding: 0.8rem;
            border: 1px solid #ccc;
            border-radius: 8px;
            margin-right: 0.5rem;
            font-size: 1rem;
        }

        /* Test list */
        .test-list {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .test-card {
            padding: 1rem;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .test-card:hover {
            background-color: #f9f9f9;
        }

        .test-name {
            font-weight: bold;
            margin-bottom: 0.2rem;
            color: #EAB44C;
        }

        .test-price {
            color: #79BC43;
            font-weight: bold;
        }

        .test-category {
            display: inline-block;
            background-color: #f0f0f0;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 0.5rem;
        }

        /* Test detail */
        .test-detail {
            display: none;
        }

        .test-detail h3 {
            color: #EAB44C;
            margin-top: 1.5rem;
        }

        .test-detail ul {
            padding-left: 1.2rem;
        }

        .test-detail li {
            margin-bottom: 0.5rem;
        }

        /* Test results table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        th, td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: #EAB44C;
            color: white;
        }

        tr:hover {
            background-color: #f9f9f9;
        }

        /* Form elements */
        input[type="text"],
        input[type="password"],
        input[type="email"] {
            width: 100%;
            padding: 0.8rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 1rem;
        }

        /* Test History Section */
        .test-history-section {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: none;
        }

        .test-history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .test-history-header h2 {
            margin: 0;
            color: #EAB44C;
        }

        .test-history-item {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .test-history-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .test-history-item-name {
            font-weight: bold;
            color: #EAB44C;
            font-size: 1.2rem;
        }

        .test-history-item-date {
            color: #666;
        }

        .test-history-item-details {
            margin-top: 1rem;
        }

        /* Registration confirmation */
        .registration-confirmation {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .registration-confirmation h3 {
            color: #79BC43;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .registration-details {
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: left;
        }

        .registration-detail-item {
            margin-bottom: 1rem;
        }

        .registration-detail-label {
            font-weight: bold;
            color: #555;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav ul {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-avatar {
                margin-right: 0;
                margin-bottom: 1rem;
            }
            
            .profile-details {
                grid-template-columns: 1fr;
            }
            
            .queue-status {
                flex-direction: column;
            }
            
            .queue-item {
                margin-bottom: 1rem;
            }
            
            .modal-content {
                width: 95%;
                padding: 1rem;
            }

            .test-history-item-header {
                flex-direction: column;
            }

            .test-history-item-date {
                margin-top: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .logo-text {
                font-size: 1.2rem;
            }
            
            .hero {
                padding: 1.5rem;
            }
            
            .hero h1 {
                font-size: 1.5rem;
            }
            
            .btn {
                padding: 0.7rem 1.2rem;
                font-size: 0.9rem;
            }
            
            .feature-card {
                padding: 1rem;
            }
            
            .profile-section, .queue-section, .test-history-section {
                padding: 1rem;
            }
            
            .profile-avatar {
                width: 60px;
                height: 60px;
                font-size: 1.5rem;
            }
        }

        .back-arrow {
            margin-right: 1rem;
            cursor: pointer;
            font-size: 1.5rem;
            display: none; /* Initially hidden */
        }

        @media (max-width: 768px) {
            .back-arrow {
                display: block; /* Show on mobile */
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo-avatar">
                <img class="logo-img" width="50" height="90" src="bmci.jpg" />
            </div>
            <div class="logo-text">Laboratorium Bahrul Maghfiroh</div>
        </div>
        
        <nav>
            <ul>
                <li><a href="#" id="profileBtn">Profile</a></li>
                <li><a href="beranda.html">Layanan</a></li>
                <li><a href="#" id="queueBtn">Nomor Antrian</a></li>
                <li><a href="#" id="chatBtn">Chat Dokter</a></li>
                <li><a href="#" id="testHistoryBtn">Tes Lab</a></li>
                <li><a href="#" id="resultBtn">Hasil Tes</a></li>
            </ul>
        </nav>
        <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
        <div class="mobile-menu" id="mobileMenu">
            <ul>
                <li><a href="#" id="profileBtnMobile">Profile</a></li>
                <li><a href="beranda.html">Layanan</a></li>
                <li><a href="#" id="queueBtnMobile">Nomor Antrian</a></li>
                <li><a href="#" id="chatBtnMobile">Chat Dokter</a></li>
                <li><a href="#" id="testHistoryBtnMobile">Tes Lab</a></li>
                <li><a href="#" id="resultBtnMobile">Hasil Tes</a></li>
            </ul>
        </div>
    </header>
    
    <div class="container">
        <section class="hero" id="home">
            <h1>Pemeriksaan Laboratorium Bahrul Maghfiroh</h1>
            <p>Dapatkan layanan pemeriksaan laboratorium berkualitas tinggi dengan hasil akurat dan konsultasi dokter profesional secara online.</p>
            <a href="#services" class="btn">Lihat Layanan Kami</a>
        </section>
        
        <section id="services">
            <h2 style="text-align: center; margin-bottom: 1.5rem;">Layanan Kami</h2>
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üí¨</div>
                    <h3>Chat Dokter</h3>
                    <p>Konsultasikan hasil pemeriksaan Anda dengan dokter spesialis kami secara online melalui chat yang aman dan nyaman.</p>
                    <a href="#" class="btn" id="chatBtn2" style="display: inline-block; margin-top: 1rem;">Mulai Chat</a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üß™</div>
                    <h3>Pemeriksaan Laboratorium</h3>
                    <p>Berbagai jenis pemeriksaan laboratorium dengan teknologi terkini dan hasil yang akurat dalam waktu singkat.</p>
                    <a href="#" class="btn" id="testBtn2" style="display: inline-block; margin-top: 1rem;">Lihat Tes</a>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Hasil Pemeriksaan</h3>
                    <p>Akses hasil pemeriksaan laboratorium Anda secara online kapan saja dan di mana saja dengan aman.</p>
                    <a href="hasiltes.html" class="btn" id="resultBtn2" style="display: inline-block; margin-top: 1rem;">Cek Hasil</a>
                </div>
            </div>
        </section>
        
        <!-- Profile Section -->
        <section id="profileSection" class="profile-section" style="display: none;">
            <div class="profile-header">
                <div class="profile-avatar">JD</div>
                <div class="profile-info">
                    <h2>Herliyanto</h2>
                    <p>Member sejak: 15 Maret 2025</p>
                </div>
            </div>
            
            <div class="profile-details">
                <div class="detail-card">
                    <h3>Informasi Pribadi</h3>
                    <div class="detail-item">
                        <span class="detail-label">Nama Lengkap</span>
                        <span class="detail-value">Herliyanto</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Tanggal Lahir</span>
                        <span class="detail-value">04 Januari 2002</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Jenis Kelamin</span>
                        <span class="detail-value">Laki-laki</span>
                    </div>
                </div>
                
                <div class="detail-card">
                    <h3>Kontak</h3>
                    <div class="detail-item">
                        <span class="detail-label">Email</span>
                        <span class="detail-value">herliyantodps@gmail.com</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Nomor HP</span>
                        <span class="detail-value">081939797326</span>
                    </div>
                </div>
                
                <div class="detail-card">
                    <h3>Alamat</h3>
                    <div class="detail-item">
                        <span class="detail-value">Dusun Polalang, Desa Gapura Barat, RT 05 / RW 01, Kec.Gapura, Kab.Sumenep, Jawa Timur.</span>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 1.5rem; text-align: center;">
                <button class="btn">Edit Profil</button>
            </div>
        </section>
        
        <!-- Queue Section -->
        <section id="queueSection" class="queue-section" style="display: none;">
            <div class="queue-header">
                <h2>Nomor Antrian</h2>
                <button class="refresh-btn">
                    <span class="refresh-icon">‚Üª</span>
                    <span>Refresh</span>
                </button>
            </div>
            
            <div class="queue-status">
                <div class="queue-item">
                    <div class="queue-label">Antrian Saat Ini</div>
                    <div class="queue-number">A15</div>
                    <div class="queue-label">10:30 WIB</div>
                </div>
                
                <div class="queue-item">
                    <div class="queue-label">Antrian Anda</div>
                    <div class="queue-number">A18</div>
                    <div class="queue-label">Perkiraan: 11:15 WIB</div>
                </div>
            </div>
            
            <div class="queue-list">
                <h3>Daftar Antrian Hari Ini</h3>
                <table class="queue-table">
                    <thead>
                        <tr>
                            <th>No. Antrian</th>
                            <th>Nama</th>
                            <th>Jenis Pemeriksaan</th>
                            <th>Estimasi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="current-queue">
                            <td>A15</td>
                            <td>Budi Santoso</td>
                            <td>Darah Lengkap</td>
                            <td>10:30 WIB</td>
                        </tr>
                        <tr>
                            <td>A16</td>
                            <td>Siti Rahayu</td>
                            <td>Urinalisis</td>
                            <td>10:45 WIB</td>
                        </tr>
                        <tr>
                            <td>A17</td>
                            <td>Andi Wijaya</td>
                            <td>Gula Darah</td>
                            <td>11:00 WIB</td>
                        </tr>
                        <tr>
                            <td>A18</td>
                            <td>Herliyanto</td>
                            <td>Kolesterol</td>
                            <td>11:15 WIB</td>
                        </tr>
                        <tr>
                            <td>A19</td>
                            <td>Dewi Lestari</td>
                            <td>Fungsi Hati</td>
                            <td>11:30 WIB</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Test History Section -->
        <section id="testHistorySection" class="test-history-section">
            <div class="test-history-header">
                <h2>Riwayat Pemeriksaan</h2>
            </div>
            
            <div id="testHistoryContent">
                <!-- Test history items will be added here dynamically -->
                <p id="noHistoryMessage">Anda belum memiliki riwayat pemeriksaan.</p>
            </div>
        </section>
    </div>
    
    <!-- Chat Dokter Modal -->
    <div id="chatModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Chat dengan Dokter</h2>
            
            <div id="doctorSelection">
                <h3>Pilih Dokter</h3>
                <div class="doctor-list">
                    <div class="doctor-card" data-doctor-id="1">
                        <div class="doctor-avatar">AT</div>
                        <div class="doctor-info">
                            <div class="doctor-name">drg. Antuk Tyassing Pakolih</div>
                            <div class="doctor-specialty">Dokter Gigi</div>
                        </div>
                        <div class="doctor-status status-online">Online</div>
                    </div>
                    
                    <div class="doctor-card" data-doctor-id="2">
                        <div class="doctor-avatar">YA</div>
                        <div class="doctor-info">
                            <div class="doctor-name">dr. Yoggie Andang Gunawan</div>
                            <div class="doctor-specialty">Spesialis Jantung</div>
                        </div>
                        <div class="doctor-status status-online">Online</div>
                    </div>
                    
                    <div class="doctor-card" data-doctor-id="3">
                        <div class="doctor-avatar">II</div>
                        <div class="doctor-info">
                            <div class="doctor-name">dr. Indira Indah Farahdiba</div>
                            <div class="doctor-specialty">Spesialis Gigi</div>
                        </div>
                        <div class="doctor-status status-offline">Offline</div>
                    </div>
                </div>
            </div>
            
            <div id="chatInterface" style="display: none;">
                <div class="chat-header">
                    <span class="back-arrow">‚Üê</span>
                    <div class="chat-header-avatar" id="currentDoctorAvatar">DA</div>
                    <div>
                        <div id="currentDoctorName">drg. Antuk Tyassing Pakolih</div>
                        <div id="currentDoctorSpecialty">Dokter Gigi</div>
                    </div>
                </div>
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message doctor-message">
                            <p>Halo! Ada yang bisa saya bantu?</p>
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="userInput" placeholder="Ketik pesan Anda...">
                        <button class="btn" id="sendBtn">Kirim</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tes Laboratorium Modal -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Pemeriksaan Laboratorium</h2>
            
            <div id="testSelection">
                <p>Pilih jenis pemeriksaan yang Anda butuhkan:</p>
                <div class="test-list">
                    <div class="test-card" data-test-id="1">
                        <div class="test-name">Pemeriksaan Darah Lengkap</div>
                        <div><span class="test-category">Hematologi</span> <span class="test-price">Rp 150.000</span></div>
                    </div>
                    
                    <div class="test-card" data-test-id="2">
                        <div class="test-name">Pemeriksaan Gula Darah</div>
                        <div><span class="test-category">Kimia Klinik</span> <span class="test-price">Rp 75.000</span></div>
                    </div>
                    
                    <div class="test-card" data-test-id="3">
                        <div class="test-name">Pemeriksaan Kolesterol</div>
                        <div><span class="test-category">Kimia Klinik</span> <span class="test-price">Rp 120.000</span></div>
                    </div>
                    
                    <div class="test-card" data-test-id="4">
                        <div class="test-name">Pemeriksaan Fungsi Hati</div>
                        <div><span class="test-category">Kimia Klinik</span> <span class="test-price">Rp 200.000</span></div>
                    </div>
                    
                    <div class="test-card" data-test-id="5">
                        <div class="test-name">Pemeriksaan Urine Rutin</div>
                        <div><span class="test-category">Urinalisis</span> <span class="test-price">Rp 80.000</span></div>
                    </div>
                </div>
            </div>
            
            <div id="testDetail" class="test-detail">
                <h3 id="detailTestName">Pemeriksaan Darah Lengkap</h3>
                
                <h3>Penjelasan</h3>
                <p id="detailExplanation">Pemeriksaan darah lengkap adalah tes yang mengukur berbagai komponen dan fitur darah Anda, termasuk sel darah merah, sel darah putih, dan trombosit.</p>
                
                <h3>Manfaat</h3>
                <ul id="detailBenefits">
                    <li>Mendeteksi anemia, infeksi, dan leukemia</li>
                    <li>Memantau kondisi kesehatan secara umum</li>
                    <li>Menilai respon terhadap pengobatan</li>
                </ul>
                
                <h3>Persiapan</h3>
                <ul id="detailPreparation">
                    <li>Puasa 8-12 jam sebelum pemeriksaan (jika diperlukan)</li>
                    <li>Minum air putih seperti biasa</li>
                    <li>Informasikan obat-obatan yang sedang dikonsumsi</li>
                </ul>
                
                <div style="display: flex; gap: 0.5rem; margin-top: 1.5rem;">
                    <button class="btn-outline" id="backToList">Kembali ke Daftar</button>
                    <button class="btn" id="registerTest">Daftar Pemeriksaan</button>
                </div>
            </div>

            <div id="registrationConfirmation" class="registration-confirmation">
                <h3>Pendaftaran Berhasil!</h3>
                <p>Terima kasih telah mendaftar untuk pemeriksaan laboratorium.</p>
                
                <div class="registration-details">
                    <div class="registration-detail-item">
                        <div class="registration-detail-label">Kode Booking</div>
                        <div id="confirmationPatientId">1739257942984</div>
                    </div>
                    <div class="registration-detail-item">
                        <div class="registration-detail-label">Jenis Pemeriksaan</div>
                        <div id="confirmationTestName">Pemeriksaan Darah Lengkap</div>
                    </div>
                    <div class="registration-detail-item">
                        <div class="registration-detail-label">Nomor Antrian</div>
                        <div id="confirmationQueueNumber">A18</div>
                    </div>
                    <div class="registration-detail-item">
                        <div class="registration-detail-label">Perkiraan Waktu</div>
                        <div id="confirmationQueueTime">11:15 WIB</div>
                    </div>
                    <div class="registration-detail-item">
                        <div class="registration-detail-label">Biaya</div>
                        <div id="confirmationTestPrice">Rp 150.000</div>
                    </div>
                </div>
                
                <p>Silakan datang ke laboratorium sesuai jadwal dengan membawa bukti pendaftaran ini.</p>
                <button class="btn" id="closeConfirmation">Tutup</button>
            </div>
        </div>
    </div>
    
    <!-- Hasil Tes Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Hasil Pemeriksaan</h2>
            
            <div style="margin-bottom: 1rem;">
                <label for="patientId">Kode Booking:</label>
                <input type="text" id="patientId" placeholder="Masukkan Kode Booking">
                <label for="accessCode" style="display: block; margin-top: 0.5rem;">Kode Akses:</label>
                <input type="password" id="accessCode" placeholder="Masukkan Kode Akses">
                <button class="btn" id="checkResultBtn" style="margin-top: 1rem; width: 100%;">Cek Hasil</button>
            </div>
            
            <!-- <div id="resultContent" style="display: none;">
                <h3>Hasil Pemeriksaan Terakhir</h3>
                <p>Nama: John Doe | Tanggal: 15 Juni 2023</p>
                
                <div style="overflow-x: auto;">
                    <table>
                        <thead>
                            <tr>
                                <th>Jenis Pemeriksaan</th>
                                <th>Hasil</th>
                                <th>Nilai Normal</th>
                                <th>Keterangan</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Gula Darah Puasa</td>
                                <td>92 mg/dL</td>
                                <td>70-100 mg/dL</td>
                                <td>Normal</td>
                            </tr>
                            <tr>
                                <td>Kolesterol Total</td>
                                <td>198 mg/dL</td>
                                <td>&lt;200 mg/dL</td>
                                <td>Normal</td>
                            </tr>
                            <tr>
                                <td>HDL</td>
                                <td>45 mg/dL</td>
                                <td>&gt;40 mg/dL</td>
                                <td>Normal</td>
                            </tr>
                            <tr>
                                <td>LDL</td>
                                <td>120 mg/dL</td>
                                <td>&lt;130 mg/dL</td>
                                <td>Normal</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                    <button class="btn" style="flex: 1;">Cetak Hasil</button>
                    <button class="btn" style="flex: 1;">Konsultasi Dokter</button>
                </div>
            </div> -->
        </div>
    </div>

    <footer>
        <p>LabCare - Layanan Pemeriksaan Laboratorium Online</p>
        <p>Email: info@labcare.id | Telepon: (021) 12345678</p>
        <p>¬© 2023 LabCare. Semua hak dilindungi.</p>
    </footer>
    
    <script>
        // Mobile menu functionality
        const mobileMenuBtn = document.getElementById("mobileMenuBtn");
        const mobileMenu = document.getElementById("mobileMenu");
        
        mobileMenuBtn.addEventListener("click", function() {
            mobileMenu.classList.toggle("active");
        });
        
        // Close mobile menu when clicking on a link
        const mobileMenuLinks = document.querySelectorAll(".mobile-menu a");
        mobileMenuLinks.forEach(link => {
            link.addEventListener("click", function() {
                mobileMenu.classList.remove("active");
            });
        });
        
        // Modal functionality
        const profileSection = document.getElementById("profileSection");
        const queueSection = document.getElementById("queueSection");
        const testHistorySection = document.getElementById("testHistorySection");
        const chatModal = document.getElementById("chatModal");
        const testModal = document.getElementById("testModal");
        const resultModal = document.getElementById("resultModal");
        
        const profileBtns = [
            document.getElementById("profileBtn"), 
            document.getElementById("profileBtnMobile")
        ];
        
        const queueBtns = [
            document.getElementById("queueBtn"), 
            document.getElementById("queueBtnMobile")
        ];
        
        const testHistoryBtns = [
            document.getElementById("testHistoryBtn"),
            document.getElementById("testHistoryBtnMobile")
        ];
        
        const chatBtns = [
            document.getElementById("chatBtn"), 
            document.getElementById("chatBtn2"),
            document.getElementById("chatBtnMobile")
        ];
        
        const testBtns = [
            document.getElementById("testBtn2")
        ];
        
        const resultBtns = [
            document.getElementById("resultBtn"), 
            document.getElementById("resultBtn2"),
            document.getElementById("resultBtnMobile")
        ];
        
        const closeBtns = document.getElementsByClassName("close");
        
        // Open profile, queue and test history sections
        profileBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                // Hide all sections first
                document.querySelectorAll('.container > section').forEach(section => {
                    section.style.display = 'none';
                });
                // Show profile section
                profileSection.style.display = 'block';
                mobileMenu.classList.remove("active");
                // Scroll to profile section
                profileSection.scrollIntoView({ behavior: 'smooth' });
            }
        });
        
        queueBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                // Hide all sections first
                document.querySelectorAll('.container > section').forEach(section => {
                    section.style.display = 'none';
                });
                // Show queue section
                queueSection.style.display = 'block';
                mobileMenu.classList.remove("active");
                // Scroll to queue section
                queueSection.scrollIntoView({ behavior: 'smooth' });
            }
        });

        testHistoryBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                // Hide all sections first
                document.querySelectorAll('.container > section').forEach(section => {
                    section.style.display = 'none';
                });
                // Show test history section
                testHistorySection.style.display = 'block';
                mobileMenu.classList.remove("active");
                // Scroll to test history section
                testHistorySection.scrollIntoView({ behavior: 'smooth' });
            }
        });
        
        // Open modals
        chatBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                chatModal.style.display = "flex";
                mobileMenu.classList.remove("active");
            }
        });
        
        testBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                testModal.style.display = "flex";
                mobileMenu.classList.remove("active");
            }
        });
        
        resultBtns.forEach(btn => {
            btn.onclick = function(e) {
                e.preventDefault();
                resultModal.style.display = "flex";
                mobileMenu.classList.remove("active");
            }
        });
        
        // Close modals
        for (let i = 0; i < closeBtns.length; i++) {
            closeBtns[i].onclick = function() {
                chatModal.style.display = "none";
                testModal.style.display = "none";
                resultModal.style.display = "none";
            }
        }
        
        // Close when clicking outside
        window.onclick = function(event) {
            if (event.target == chatModal) {
                chatModal.style.display = "none";
            }
            if (event.target == testModal) {
                testModal.style.display = "none";
            }
            if (event.target == resultModal) {
                resultModal.style.display = "none";
            }
        }
        
        // Chat functionality
        const doctorCards = document.querySelectorAll(".doctor-card");
        const doctorSelection = document.getElementById("doctorSelection");
        const chatInterface = document.getElementById("chatInterface");
        const currentDoctorAvatar = document.getElementById("currentDoctorAvatar");
        const currentDoctorName = document.getElementById("currentDoctorName");
        const currentDoctorSpecialty = document.getElementById("currentDoctorSpecialty");
        const chatMessages = document.getElementById("chatMessages");
        const userInput = document.getElementById("userInput");
        const sendBtn = document.getElementById("sendBtn");
        
        doctorCards.forEach(card => {
            card.addEventListener("click", function() {
                const doctorId = this.getAttribute("data-doctor-id");
                const doctorAvatar = this.querySelector(".doctor-avatar").textContent;
                const doctorName = this.querySelector(".doctor-name").textContent;
                const doctorSpecialty = this.querySelector(".doctor-specialty").textContent;
                
                // Skip if doctor is offline
                if (this.querySelector(".status-offline")) {
                    alert("Dokter ini sedang offline. Silakan pilih dokter lain yang tersedia.");
                    return;
                }
                
                // Set current doctor info
                currentDoctorAvatar.textContent = doctorAvatar;
                currentDoctorName.textContent = doctorName;
                currentDoctorSpecialty.textContent = doctorSpecialty;
                
                // Switch to chat interface
                doctorSelection.style.display = "none";
                chatInterface.style.display = "block";
                
                // Clear chat messages except the first one
                while (chatMessages.children.length > 1) {
                    chatMessages.removeChild(chatMessages.lastChild);
                }
            });
        });
        
        sendBtn.onclick = function() {
            sendMessage();
        }
        
        userInput.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = userInput.value.trim();
            if (message !== "") {
                // Add user message
                const userMessage = document.createElement("div");
                userMessage.className = "message user-message";
                userMessage.innerHTML = `<p>${message}</p>`;
                chatMessages.appendChild(userMessage);
                
                // Clear input
                userInput.value = "";
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Simulate doctor reply after a delay
                setTimeout(function() {
                    const doctorMessage = document.createElement("div");
                    doctorMessage.className = "message doctor-message";
                    
                    // Simple chatbot logic
                    let reply = "Saya memahami keluhan Anda. Untuk informasi lebih lanjut, saya sarankan Anda melakukan pemeriksaan laboratorium.";
                    if (message.toLowerCase().includes("hasil")) {
                        reply = "Hasil laboratorium biasanya keluar dalam waktu 1-3 hari kerja tergantung jenis pemeriksaannya. Anda bisa mengeceknya di menu Hasil Tes dengan Kode Booking dan kode akses yang diberikan.";
                    } else if (message.toLowerCase().includes("biaya")) {
                        reply = "Biaya pemeriksaan bervariasi tergantung jenis tes. Untuk informasi lengkap, Anda bisa melihat daftar harga di menu Pemeriksaan Laboratorium.";
                    }
                    
                    doctorMessage.innerHTML = `<p>${reply}</p>`;
                    chatMessages.appendChild(doctorMessage);
                    
                    // Scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }
        
        // Test functionality
        const testCards = document.querySelectorAll(".test-card");
        const testSelection = document.getElementById("testSelection");
        const testDetail = document.getElementById("testDetail");
        const detailTestName = document.getElementById("detailTestName");
        const detailExplanation = document.getElementById("detailExplanation");
        const detailBenefits = document.getElementById("detailBenefits");
        const detailPreparation = document.getElementById("detailPreparation");
        const backToList = document.getElementById("backToList");
        const registerTest = document.getElementById("registerTest");
        const registrationConfirmation = document.getElementById("registrationConfirmation");
        const confirmationTestName = document.getElementById("confirmationTestName");
        const confirmationQueueNumber = document.getElementById("confirmationQueueNumber");
        const confirmationQueueTime = document.getElementById("confirmationQueueTime");
        const confirmationTestPrice = document.getElementById("confirmationTestPrice");
        const closeConfirmation = document.getElementById("closeConfirmation");
        const testHistoryContent = document.getElementById("testHistoryContent");
        const noHistoryMessage = document.getElementById("noHistoryMessage");

        // Test data
        const testData = {
            1: {
                name: "Pemeriksaan Darah Lengkap",
                explanation: "Pemeriksaan darah lengkap adalah tes yang mengukur berbagai komponen dan fitur darah Anda, termasuk sel darah merah, sel darah putih, dan trombosit.",
                benefits: [
                    "Mendeteksi anemia, infeksi, dan leukemia",
                    "Memantau kondisi kesehatan secara umum",
                    "Menilai respon terhadap pengobatan"
                ],
                preparation: [
                    "Puasa 8-12 jam sebelum pemeriksaan (jika diperlukan)",
                    "Minum air putih seperti biasa",
                    "Informasikan obat-obatan yang sedang dikonsumsi"
                ],
                price: "Rp 150.000",
                queueNumber: "A18",
                queueTime: "11:15 WIB"
            },
            2: {
                name: "Pemeriksaan Gula Darah",
                explanation: "Tes gula darah mengukur jumlah glukosa dalam darah Anda. Glukosa adalah sumber energi utama bagi tubuh.",
                benefits: [
                    "Mendiagnosis diabetes atau prediabetes",
                    "Memantau pengobatan diabetes",
                    "Mengevaluasi hipoglikemia (gula darah rendah)"
                ],
                preparation: [
                    "Puasa 8-12 jam sebelum pemeriksaan",
                    "Hindari makan dan minum (kecuali air putih)",
                    "Informasikan obat-obatan yang sedang dikonsumsi"
                ],
                price: "Rp 75.000",
                queueNumber: "A19",
                queueTime: "11:30 WIB"
            },
            3: {
                name: "Pemeriksaan Kolesterol",
                explanation: "Panel lipid atau tes kolesterol mengukur kadar kolesterol dan trigliserida dalam darah Anda.",
                benefits: [
                    "Menilai risiko penyakit jantung",
                    "Memantau efektivitas pengobatan kolesterol tinggi",
                    "Mengevaluasi kesehatan metabolik"
                ],
                preparation: [
                    "Puasa 9-12 jam sebelum pemeriksaan",
                    "Hindari alkohol 24 jam sebelum tes",
                    "Informasikan obat-obatan yang sedang dikonsumsi"
                ],
                price: "Rp 120.000",
                queueNumber: "A20",
                queueTime: "11:45 WIB"
            }
        };

        // Store registered tests
        let registeredTests = JSON.parse(localStorage.getItem('registeredTests')) || [];
        
        testCards.forEach(card => {
            card.addEventListener("click", function() {
                const testId = this.getAttribute("data-test-id");
                const test = testData[testId];
                
                if (test) {
                    // Update test detail
                    detailTestName.textContent = test.name;
                    detailExplanation.textContent = test.explanation;
                    
                    // Clear previous benefits and preparation
                    detailBenefits.innerHTML = "";
                    detailPreparation.innerHTML = "";
                    
                    // Add benefits
                    test.benefits.forEach(benefit => {
                        const li = document.createElement("li");
                        li.textContent = benefit;
                        detailBenefits.appendChild(li);
                    });
                    
                    // Add preparation
                    test.preparation.forEach(prep => {
                        const li = document.createElement("li");
                        li.textContent = prep;
                        detailPreparation.appendChild(li);
                    });
                    
                    // Switch to detail view
                    testSelection.style.display = "none";
                    testDetail.style.display = "block";
                }
            });
        });
        
        backToList.addEventListener("click", function() {
            testSelection.style.display = "block";
            testDetail.style.display = "none";
        });
        
        registerTest.addEventListener("click", function() {
            const testName = detailTestName.textContent;
            const testId = Array.from(testCards).find(card => 
                card.querySelector('.test-name').textContent === testName
            )?.getAttribute('data-test-id');
            
            if (testId) {
                const test = testData[testId];
                
                // Show confirmation with details
                document.getElementById("confirmationPatientId").textContent = "1739257942984"; 
                confirmationTestName.textContent = test.name;
                confirmationQueueNumber.textContent = test.queueNumber;
                confirmationQueueTime.textContent = test.queueTime;
                confirmationTestPrice.textContent = test.price;
                
                // Hide test detail and show confirmation
                testDetail.style.display = "none";
                registrationConfirmation.style.display = "block";
                
                // Add to registered tests
                const newTest = {
                    id: Date.now(),
                    name: test.name,
                    date: new Date().toLocaleDateString('id-ID', { 
                        day: 'numeric', 
                        month: 'long', 
                        year: 'numeric' 
                    }),
                    queueNumber: test.queueNumber,
                    queueTime: test.queueTime,
                    price: test.price,
                    details: {
                        explanation: test.explanation,
                        benefits: test.benefits,
                        preparation: test.preparation
                    }
                };
                
                registeredTests.push(newTest);
                localStorage.setItem('registeredTests', JSON.stringify(registeredTests));
                
                // Update test history
                updateTestHistory();
            }
        });
        
        closeConfirmation.addEventListener("click", function() {
            registrationConfirmation.style.display = "none";
            testSelection.style.display = "block";
            testModal.style.display = "none";
        });
        
        // Update test history display
        function updateTestHistory() {
            if (registeredTests.length > 0) {
                noHistoryMessage.style.display = "none";
                testHistoryContent.innerHTML = '';
                
                registeredTests.forEach(test => {
                    const testItem = document.createElement('div');
                    testItem.className = 'test-history-item';
                    testItem.innerHTML = `
                        <div class="test-history-item-header">
                            <div class="test-history-item-name">${test.name}</div>
                            <div class="test-history-item-date">${test.date}</div>
                        </div>
                        <div class="test-history-item-details">
                            <div><strong>Nomor Antrian:</strong> ${test.queueNumber}</div>
                            <div><strong>Perkiraan Waktu:</strong> ${test.queueTime}</div>
                            <div><strong>Biaya:</strong> ${test.price}</div>
                        </div>
                        <div style="margin-top: 1rem;">
                            <button class="btn-outline view-test-details" data-test-id="${test.id}">Lihat Detail</button>
                        </div>
                    `;
                    testHistoryContent.appendChild(testItem);
                });
            } else {
                noHistoryMessage.style.display = "block";
            }
        }
        
        // Initialize test history
        updateTestHistory();
        
        // View test details from history
        testHistoryContent.addEventListener('click', function(e) {
            if (e.target.classList.contains('view-test-details')) {
                const testId = parseInt(e.target.getAttribute('data-test-id'));
                const test = registeredTests.find(t => t.id === testId);
                
                if (test) {
                    // Show test modal with details
                    testModal.style.display = "flex";
                    testSelection.style.display = "none";
                    testDetail.style.display = "block";
                    
                    // Set test details
                    detailTestName.textContent = test.name;
                    detailExplanation.textContent = test.details.explanation;
                    
                    // Clear previous benefits and preparation
                    detailBenefits.innerHTML = "";
                    detailPreparation.innerHTML = "";
                    
                    // Add benefits
                    test.details.benefits.forEach(benefit => {
                        const li = document.createElement("li");
                        li.textContent = benefit;
                        detailBenefits.appendChild(li);
                    });
                    
                    // Add preparation
                    test.details.preparation.forEach(prep => {
                        const li = document.createElement("li");
                        li.textContent = prep;
                        detailPreparation.appendChild(li);
                    });
                    
                    // Change button text since this is a view-only mode
                    registerTest.textContent = "Detail";
                    registerTest.onclick = function() {
                        testModal.style.display = "none";
                    };
                }
            }
        });
        
        // Check result functionality - Modified to redirect to hasiltes.html
        const checkResultBtn = document.getElementById("checkResultBtn");
        
        checkResultBtn.onclick = function() {
            const patientId = document.getElementById("patientId").value;
            const accessCode = document.getElementById("accessCode").value;
            
            if (patientId && accessCode) {
                // Redirect to hasiltest.html when both fields are filled
                window.location.href = "hasiltes.html";
            } else {
                alert("Silakan masukkan Kode Booking dan Kode Akses yang valid.");
            }
        }
        
        // Refresh queue data
        const refreshBtn = document.querySelector(".refresh-btn");
        if (refreshBtn) {
            refreshBtn.addEventListener("click", function() {
                // In a real app, this would fetch new data from the server
                alert("Data antrian telah diperbarui");
            });
        }

        // Add this to the chat functionality section in the script
        const backArrow = document.querySelector(".back-arrow");

        backArrow.addEventListener("click", function() {
            // Switch back to doctor selection
            chatInterface.style.display = "none";
            doctorSelection.style.display = "block";
        });
    </script>
</body>
</html>